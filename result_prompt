## Project Structure

1. **Cargo.toml** - Project configuration with `rand` dependency for randomization

2. **src/cell.rs** - Defines the `Cell` struct with:
   - 9-trait fingerprint (floats 0.0-1.0)
   - Position tracking
   - Random initialization
   - Trait getters/setters with clamping

3. **src/grid.rs** - Manages the 2D grid:
   - Toroidal (wrapping) grid topology
   - Configurable neighborhood mask
   - Neighbor retrieval based on mask
   - Trait array extraction for printing

4. **src/rules.rs** - Trait update rules:
   - `rule_average` - Average neighbor values
   - `rule_conway` - Conway's Game of Life style
   - `rule_diffusion` - Diffusion with decay
   - `rule_maximum` - Take maximum of neighbors
   - `rule_oscillate` - Oscillating behavior
   - `RuleSet` struct for managing 9 different rules

5. **src/movement.rs** - Movement strategies:
   - `movement_static` - No movement
   - `movement_random` - Random walk
   - `movement_gradient` - Follow trait gradients
   - `movement_avoid_crowding` - Move away from dense areas
   - `movement_trait_based` - Complex trait-dependent movement
   - Conflict resolution for overlapping cells

6. **src/utils.rs** - Helper functions:
   - Print trait arrays in row-major order
   - Print statistics (min/max/avg)
   - Customizable trait naming

7. **src/lib.rs** - Module exports

8. **src/main.rs** - Simulation entry point with:
   - Configurable grid size, timesteps
   - Active trait mask (3×3)
   - Neighborhood mask (3×3)
   - Pluggable rules and movement
   - Simulation loop with progress printing

## To Run:

```bash
cargo run
```

## Easy Customization:

- Change grid size: modify `grid_width` and `grid_height`
- Activate different traits: modify `active_mask`
- Change neighborhood: modify `neighborhood_mask`
- Swap rules: change the `RuleSet::custom()` array
- Change movement: set `movement_fn` to any movement function

The code is fully modular and extensible!